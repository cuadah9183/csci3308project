<div class="modal fade" id="addMealModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 id='modalTitle' class="modal-title"></h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!--meal name input, add search function-->
        
        <form id="mealForm" autocomplete="off" action="/addLog" method="POST">
          <div class="autocomplete" style="width:300px;">
            <input id="mealName" type="text" name="name" placeholder="Meal Name" onchange="resetRecID()">
          </div>
          <!--Number of Servings-->
          <div class="form-group row" style="margin-top: 20px;">
            <label for="servings" class="col-sm-2 col-form-label">Servings</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="servings" name="servings" value="1">
            </div>
          </div>
          <!--Nutrition per 1 serving-->
          <!--Calories-->
          <p style="margin-left: 20px; height:30px;">Nutrition per 1 serving:</p>
          
 

          <%

          var nutrientBlocks='';
          nutrients.fields.forEach(function(item) {
            label=nutrients.info[item].label;
            if (nutrients.info[item].units!='') {
              label+=' ('+nutrients.info[item].units+')';
            }

            nutrientBlocks+=
            `<div class="form-group row" style="height: 50px; margin-left:40px">
              <label for="`+item+`" class="col-sm-2 col-form-label">`+label+`</label>
              <div class="col-sm-10" style="width:150px">
                <input type="number" class="form-control" id="`+item+`" name="`+item+`" onchange="resetRecID()">
              </div>
            </div>`
          });
          %>
          <%- nutrientBlocks %>

          <input type="hidden" id="modalYear" name="year"/>
          <input type="hidden" id="modalWeek" name="week"/>
          <input type="hidden" id="modalDay"  name="day"/>


          
          <!--Save to library checkbox-->
          <div id="saveRecipeCheck" style="display: none">
            <input type="checkbox" id="saveRecipe" name="saveRecipe">
            <label for="saveRecipe"> Save recipe in library? </label><br><br>
          </div>
          <!--Save/Cancel-->
            <div id='modalFooter' class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary" id="saveMeal" name="saveMeal" value="None">Save
                changes</button>
            </div>

          </form>
        </div>
      </div>

    </div>
  </div>
  </div>


